{% extends "base.html" %}
{% load url from future %}
{% load dict_filters %}

{% block meta %}
<script type="text/javascript">
	$(document).ready(function() {
		$("#id_date0, #id_date1, #id_date2, #id_date3, #id_date4").datepicker({
			minDate: 0,
			dateFormat: 'yy-mm-dd',
		});
		$("#id_start_time, #id_end_time").timepicker({
			timeFormat: 'hh:mm:ss',
			stepHour: 1,
			stepMinute: 10,
		});
	});
</script>
<style type="text/css">
	div.ui-datepicker{
 		font-size:12px;
	}
</style>
{% endblock %}

{% block subtitle %} | Create a Session{% endblock %}

{% block content %}
	<div id="content">
	    <div id="mainLeftFull">
	        <h1>Create a Session</h1>
	        <form method="post" action="{% url 'add-session' %}" id="addsession_form">
				<fieldset style="padding-left: 5px;">
					<legend>Session Properties</legend>
					<p>
					{{ form.non_field_errors }}
					{% for field in form %}
					{{ field.errors }}
					{% endfor %}
					</p>
						<div class="clear">
							<div style="float: left">
								<div>
									<p>
										<label for="id_<field-name>">{{ form.start_time.label }}:</label>
									    {{ form.start_time }}
									</p>
									<p>
										<label for="id_<field-name>">{{ form.end_time.label }}:</label>
									    {{ form.end_time }}
									</p>
								</div>
								<div>
									<p>
										<label for="id_<field-name>">{{ form.interval.label }}:</label>
									    {{ form.interval }}
									</p>
									<p>
										<label for="id_<field-name>">{{ form.capacity.label }}:</label>
									    {{ form.capacity }}
									</p>
								</div>
							</div>
							<div style="float: right; padding-top: 10px;">
								<div>
									<p style="padding-bottom: 10px;">You may use the following fields to add multipe zones.<br /> Blank fields will be ignored.</p>
								</div>
								<div>
									<p>
										<label for="id_<field-name>">{{ form.zone0.label }}:</label>
									    {{ form.zone0 }}
									</p>
									<p>
										<label for="id_<field-name>">{{ form.zone1.label }}:</label>
									    {{ form.zone1 }}
									</p>
									<p>
										<label for="id_<field-name>">{{ form.zone2.label }}:</label>
									    {{ form.zone2 }}
									</p>
									<p>
										<label for="id_<field-name>">{{ form.zone3.label }}:</label>
									    {{ form.zone3 }}
									</p>
									<p>
										<label for="id_<field-name>">{{ form.zone4.label }}:</label>
									    {{ form.zone4 }}
									</p>
								</div>
							</div>
						</div>
						<p style="padding-bottom: 10px;">You may use the following fields to create multipe dates with these session properties. Blank fields will be ignored.</p>
						<div class="clear">
							<p>
								<label for="id_<field-name>">{{ form.date0.label }}:</label>
							    {{ form.date0 }}
							</p>
							<p>
								<label for="id_<field-name>">{{ form.date1.label }}:</label>
							    {{ form.date1 }}
							</p>
							<p>
								<label for="id_<field-name>">{{ form.date2.label }}:</label>
							    {{ form.date2 }}
							</p>
							<p>
								<label for="id_<field-name>">{{ form.date3.label }}:</label>
							    {{ form.date3 }}
							</p>
							<p>
								<label for="id_<field-name>">{{ form.date4.label }}:</label>
							    {{ form.date4 }}
							</p>
						</div>
				</fieldset>				
				<p>
					<input type="submit" value="Create Session" />
				</p>
				{% csrf_token %}
			</form>
			
			<h2>Current Zones</h2>
			<table border="1" class="table_directory">
	            <tbody>
	                <tr>
	                    <th scope="col" width="50%">Zone Number</th>
	                    <th scope="col" width="50%">Associated Locations</th>
	                </tr>
	                {% for i in data.zones|length|getrange %}
	                {% with data.zones|keyvalue:i as zone %}
	                {% if zone.names %}
	                <tr>
	                    <td>{{ zone.number }}</td>
	                    <td>
	                    	{% for name in zone.names %}
	                    		{{ name }}{% if not forloop.last %}, {% endif %}
	                    	{% endfor %}
	                    </td>
	                </tr>
	                {% endif %}
	                {% endwith %}
	                {% endfor %}
	            </tbody>
	        </table>
	    </div>        
	</div>
{% endblock %}
