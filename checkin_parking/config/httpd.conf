# APACHE CONFIGURATION FILE for CHECKIN.HOUSING.CALPOLY.EDU

<VirtualHost *:80>
	ErrorLog "Z:/Projects/checkin_parking_project/checkin_parking/logs/apache_error.log"
	ServerName checkin.housing.calpoly.edu
	ServerAlias *.checkin.housing.calpoly.edu

    Redirect permanent / https://checkin.housing.calpoly.edu/
</VirtualHost>

<VirtualHost *:443>
	WSGIScriptAlias / Z:/Projects/checkin_parking_project/checkin_parking/config/wsgi.py
	ErrorLog "Z:/Projects/checkin_parking_project/checkin_parking/logs/apache_error.log"
	ServerName checkin.housing.calpoly.edu
	ServerAlias *.checkin.housing.calpoly.edu

	SSLEngine On
    SSLCertificateFile "Z:/Configs/Certificates/uh-isengard.primaryCert.cer"
    SSLCertificateKeyFile "Z:/Configs/Certificates/uh-isengard.privateKey.key"
    SSLCertificateChainFile "Z:/Configs/Certificates/uh-isengard.intermediateCert-rootReverseBase64.cer"

	Alias /static/ "Z:/Projects/checkin_parking_project/checkin_parking/static/"
	Alias /media/ "Z:/Projects/checkin_parking_project/checkin_parking/media/"

	<Directory "Z:/Projects/checkin_parking_project/checkin_parking/">
		Require all granted
	</Directory>

	<Location "Z:/Projects/checkin_parking_project/checkin_parking/static">
		Options -Indexes
	</Location>

	<Location "Z:/Projects/checkin_parking_project/checkin_parking/media">
        Options -Indexes
    </Location>

	<Location "Z:/Projects/checkin_parking_project/checkin_parking/config/">
		Options -Indexes
	</Location>
</VirtualHost>