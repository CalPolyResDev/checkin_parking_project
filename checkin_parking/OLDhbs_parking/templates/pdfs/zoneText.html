{% extends "base.html" %}
{% load url from future %}
{% load dict_filters %}

{% block subtitle %} | PDF Zone Text{% endblock %}

{% block content %}
	<div id="content">
		<div id="mainLeftFull">
			<h1>PDF Zone Text</h1>
			<p>The following fields are used to generate dynamic zone text for the parking pass. Each zone paragraph will be pre-pended with zone number and location names.</p>
			<form method="post" id="zone_text_form">
				<p>
					{{ form.non_field_errors }}
				</p>
					{% for field in form %}
			        <p>
			        	{{ field.errors }}
			            <h3><label for="id_<field-name>">{{ field.label }}:</label></h3>
			            {{ field }}
			        </p>
				    {% endfor %}
				<p>
					<input type="submit" value="Submit" />
				</p>
				{% csrf_token %}
			</form>
			<h2>Current Zones</h2>
			<table border="1" class="table_directory">
	            <tbody>
	                <tr>
	                    <th scope="col" width="50%">Zone Number</th>
	                    <th scope="col" width="50%">Associated Locations</th>
	                </tr>
	                {% for i in zones|length|getrange %}
	                {% with zones|keyvalue:i as zone %}
	                {% if zone.names %}
	                <tr>
	                    <td>{{ zone.number }}</td>
	                    <td>
	                    	{% for name in zone.names %}
	                    		{{ name }}{% if not forloop.last %}, {% endif %}
	                    	{% endfor %}
	                    </td>
	                </tr>
	                {% endif %}
	                {% endwith %}
	                {% endfor %}
	            </tbody>
	        </table>
		</div>
	</div>
{% endblock %}